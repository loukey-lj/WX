<mxfile type="github" version="20.1.3" etag="hbNg1QfGJHBnBQsMT5rC" agent="5.0 (Windows NT 10.0; WOW64; Trident/7.0; .NET4.0C; .NET4.0E; .NET CLR 2.0.50727; .NET CLR 3.0.30729; .NET CLR 3.5.30729; Zoom 3.6.0; Zoom 3.6.0; rv:11.0) like Gecko" modified="2022-07-21T08:15:18.550Z" host="app.diagrams.net">
  <diagram name="第 1 页" id="alpazB9rDXZP1vT-j2JS">
    <mxGraphModel grid="1" shadow="0" math="0" pageHeight="1169" pageWidth="827" pageScale="1" page="1" fold="1" arrows="1" connect="1" tooltips="1" guides="1" gridSize="10" dy="1934" dx="1422">
      <root>
        <mxCell id="0" />
        <mxCell id="1" parent="0" />
        <mxCell style="text;html=1;strokeColor=none;fillColor=none;align=left;verticalAlign=middle;whiteSpace=wrap;rounded=0;" value="目标&lt;br&gt;&amp;nbsp; &amp;nbsp; 1、建表&lt;br&gt;&amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; 1.1、给直通车提供生成建表的工具类，在直通车生成建表语句，之后直通车调用资产进行建表&lt;br&gt;&amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; 1.2、建表的时候需要加上注释信息&lt;br&gt;&amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; 1.3、mor 表去掉 ro/rt&lt;br&gt;&lt;br&gt;&amp;nbsp; &amp;nbsp; 2、表变更信息同步 hive&lt;br&gt;&amp;nbsp;&amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp;&amp;nbsp;2.1、cdc hudi&amp;nbsp; commit 时做变更检测&amp;nbsp;schama，分区变更调用资产接口进行同步（资产调用失败如何处理）&lt;br&gt;&amp;nbsp; &amp;nbsp; &amp;nbsp;&lt;br&gt;&amp;nbsp; &amp;nbsp;&amp;nbsp;3、hive 存量同步&lt;br&gt;&amp;nbsp;&amp;nbsp;&amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp;3.1、hive 存量 和 mysql 全量的去重&lt;br&gt;&lt;br&gt;&amp;nbsp; &amp;nbsp;&amp;nbsp;4、cdc hudi&lt;br&gt;&amp;nbsp;&amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp;&amp;nbsp;4.1、mysql 数据清理和正常业务清理进行区分&lt;br&gt;&amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp;4.2、版本的清理&lt;br&gt;&lt;br&gt;&amp;nbsp; &amp;nbsp; 5、hive hudi 化&lt;br&gt;&amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp;5.1、增量视图/无感切换&amp;nbsp; &amp;nbsp; &amp;nbsp;&amp;nbsp;&lt;br&gt;&lt;br&gt;&amp;nbsp; &amp;nbsp;&amp;nbsp;6、schema on read&lt;br&gt;&amp;nbsp;&amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp;&amp;nbsp;6.1、可以对字段进行增删， schema 版本的保存&lt;br&gt;&amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp;&amp;nbsp;" id="rjfQ9kvNoMq7JbhmC_GC-2" parent="1" vertex="1">
          <mxGeometry as="geometry" height="330" width="700" y="-1160" x="10" />
        </mxCell>
        <mxCell style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;exitX=0.5;exitY=0.5;exitDx=0;exitDy=0;exitPerimeter=0;entryX=0;entryY=0.5;entryDx=0;entryDy=0;" id="rjfQ9kvNoMq7JbhmC_GC-10" parent="1" target="rjfQ9kvNoMq7JbhmC_GC-9" source="rjfQ9kvNoMq7JbhmC_GC-4" edge="1">
          <mxGeometry as="geometry" relative="1" />
        </mxCell>
        <mxCell style="shape=umlActor;verticalLabelPosition=bottom;verticalAlign=top;html=1;outlineConnect=0;" value="Actor" id="rjfQ9kvNoMq7JbhmC_GC-4" parent="1" vertex="1">
          <mxGeometry as="geometry" height="60" width="30" y="-700" x="22.5" />
        </mxCell>
        <mxCell style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;exitX=1;exitY=0.5;exitDx=0;exitDy=0;" id="rjfQ9kvNoMq7JbhmC_GC-12" parent="1" target="rjfQ9kvNoMq7JbhmC_GC-11" source="rjfQ9kvNoMq7JbhmC_GC-9" edge="1">
          <mxGeometry as="geometry" relative="1" />
        </mxCell>
        <mxCell style="shape=process;whiteSpace=wrap;html=1;backgroundOutline=1;" value="CDC 接入" id="rjfQ9kvNoMq7JbhmC_GC-9" parent="1" vertex="1">
          <mxGeometry as="geometry" height="60" width="120" y="-700" x="126.5" />
        </mxCell>
        <mxCell style="edgeStyle=none;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;exitX=1;exitY=0.25;exitDx=0;exitDy=0;entryX=0;entryY=0;entryDx=0;entryDy=25;entryPerimeter=0;" id="rjfQ9kvNoMq7JbhmC_GC-20" parent="1" target="rjfQ9kvNoMq7JbhmC_GC-14" source="rjfQ9kvNoMq7JbhmC_GC-11" edge="1">
          <mxGeometry as="geometry" relative="1" />
        </mxCell>
        <mxCell style="edgeStyle=none;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;startSize=1;endSize=6;sourcePerimeterSpacing=0;targetPerimeterSpacing=0;" value="" id="rjfQ9kvNoMq7JbhmC_GC-177" parent="1" target="rjfQ9kvNoMq7JbhmC_GC-176" source="rjfQ9kvNoMq7JbhmC_GC-11" edge="1">
          <mxGeometry as="geometry" relative="1" />
        </mxCell>
        <mxCell style="rounded=1;whiteSpace=wrap;html=1;" value="审批通过" id="rjfQ9kvNoMq7JbhmC_GC-11" parent="1" vertex="1">
          <mxGeometry as="geometry" height="60" width="70" y="-700" x="306.5" />
        </mxCell>
        <mxCell style="edgeStyle=none;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;exitX=0.014;exitY=0.583;exitDx=0;exitDy=0;exitPerimeter=0;entryX=1.029;entryY=0.367;entryDx=0;entryDy=0;entryPerimeter=0;" id="rjfQ9kvNoMq7JbhmC_GC-21" parent="1" target="rjfQ9kvNoMq7JbhmC_GC-11" source="rjfQ9kvNoMq7JbhmC_GC-14" edge="1">
          <mxGeometry as="geometry" relative="1" />
        </mxCell>
        <mxCell style="shape=cube;whiteSpace=wrap;html=1;boundedLbl=1;backgroundOutline=1;darkOpacity=0.05;darkOpacity2=0.1;size=10;" value="建表工具" id="rjfQ9kvNoMq7JbhmC_GC-14" parent="1" vertex="1">
          <mxGeometry as="geometry" height="60" width="70" y="-760" x="436.5" />
        </mxCell>
        <mxCell style="edgeStyle=none;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;exitX=1;exitY=0.5;exitDx=0;exitDy=0;startSize=1;endSize=6;sourcePerimeterSpacing=0;targetPerimeterSpacing=0;" id="rjfQ9kvNoMq7JbhmC_GC-236" parent="1" target="rjfQ9kvNoMq7JbhmC_GC-235" source="rjfQ9kvNoMq7JbhmC_GC-15" edge="1">
          <mxGeometry as="geometry" relative="1" />
        </mxCell>
        <mxCell style="edgeLabel;html=1;align=center;verticalAlign=middle;resizable=0;points=[];" value="建表/元数据同步" id="rjfQ9kvNoMq7JbhmC_GC-237" parent="rjfQ9kvNoMq7JbhmC_GC-236" vertex="1" connectable="0">
          <mxGeometry as="geometry" y="-1" x="-0.1444" relative="1">
            <mxPoint as="offset" />
          </mxGeometry>
        </mxCell>
        <mxCell style="rounded=1;whiteSpace=wrap;html=1;" value="资产" id="rjfQ9kvNoMq7JbhmC_GC-15" parent="1" vertex="1">
          <mxGeometry as="geometry" height="60" width="83.5" y="-700" x="616.5" />
        </mxCell>
        <mxCell style="endArrow=classic;html=1;rounded=0;curved=1;exitX=1;exitY=0.5;exitDx=0;exitDy=0;entryX=0;entryY=0.5;entryDx=0;entryDy=0;" value="" id="rjfQ9kvNoMq7JbhmC_GC-18" parent="1" target="rjfQ9kvNoMq7JbhmC_GC-15" source="rjfQ9kvNoMq7JbhmC_GC-11" edge="1">
          <mxGeometry as="geometry" height="50" width="50" relative="1">
            <mxPoint as="sourcePoint" y="-670" x="446.5" />
            <mxPoint as="targetPoint" y="-720" x="496.5" />
          </mxGeometry>
        </mxCell>
        <mxCell style="edgeLabel;html=1;align=center;verticalAlign=middle;resizable=0;points=[];" value="调用资产建表" id="rjfQ9kvNoMq7JbhmC_GC-19" parent="rjfQ9kvNoMq7JbhmC_GC-18" vertex="1" connectable="0">
          <mxGeometry as="geometry" y="4" x="0.175" relative="1">
            <mxPoint as="offset" />
          </mxGeometry>
        </mxCell>
        <mxCell style="text;html=1;strokeColor=none;fillColor=none;align=left;verticalAlign=middle;whiteSpace=wrap;rounded=0;" value="需要加上注释&lt;br&gt;mor 表去掉 ro/rt" id="rjfQ9kvNoMq7JbhmC_GC-25" parent="1" vertex="1">
          <mxGeometry as="geometry" height="20" width="100" y="-740" x="519" />
        </mxCell>
        <mxCell style="edgeStyle=none;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;exitX=1;exitY=0.5;exitDx=0;exitDy=0;entryX=0;entryY=0.5;entryDx=0;entryDy=0;" id="rjfQ9kvNoMq7JbhmC_GC-40" parent="1" target="rjfQ9kvNoMq7JbhmC_GC-44" source="rjfQ9kvNoMq7JbhmC_GC-33" edge="1">
          <mxGeometry as="geometry" relative="1">
            <mxPoint as="targetPoint" y="-555.8275862068965" x="381.5" />
          </mxGeometry>
        </mxCell>
        <mxCell style="rounded=1;whiteSpace=wrap;html=1;" value="数据归档" id="rjfQ9kvNoMq7JbhmC_GC-33" parent="1" vertex="1">
          <mxGeometry as="geometry" height="40" width="80" y="-812.5" x="224" />
        </mxCell>
        <mxCell style="endArrow=classic;html=1;rounded=0;exitX=0.5;exitY=0;exitDx=0;exitDy=0;dashed=1;entryX=0.5;entryY=1;entryDx=0;entryDy=0;" value="" id="rjfQ9kvNoMq7JbhmC_GC-36" parent="1" target="rjfQ9kvNoMq7JbhmC_GC-33" source="rjfQ9kvNoMq7JbhmC_GC-9" edge="1">
          <mxGeometry as="geometry" height="50" width="50" relative="1">
            <mxPoint as="sourcePoint" y="-670" x="186.5" />
            <mxPoint as="targetPoint" y="-762.5" x="224" />
          </mxGeometry>
        </mxCell>
        <mxCell style="edgeLabel;html=1;align=center;verticalAlign=middle;resizable=0;points=[];" value="mysql 归档周期设置&lt;br&gt;按照分区去归档" id="rjfQ9kvNoMq7JbhmC_GC-37" parent="rjfQ9kvNoMq7JbhmC_GC-36" vertex="1" connectable="0">
          <mxGeometry as="geometry" x="0.2794" relative="1">
            <mxPoint as="offset" y="5" x="11" />
          </mxGeometry>
        </mxCell>
        <mxCell style="text;html=1;strokeColor=none;fillColor=none;align=left;verticalAlign=middle;whiteSpace=wrap;rounded=0;labelBorderColor=default;" value="HUDI 只处理在归档周期内的 binlog 事件&lt;br&gt;&lt;div style=&quot;&quot;&gt;&lt;span style=&quot;background-color: initial;&quot;&gt;非分区表没有归档周期 binlog 事件都需要处理&lt;/span&gt;&lt;/div&gt;&lt;div style=&quot;&quot;&gt;&lt;span style=&quot;background-color: initial;&quot;&gt;解决 4.1&lt;/span&gt;&lt;/div&gt;" id="rjfQ9kvNoMq7JbhmC_GC-44" parent="1" vertex="1">
          <mxGeometry as="geometry" height="65" width="250" y="-825" x="388" />
        </mxCell>
        <mxCell style="edgeStyle=none;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;exitX=0.5;exitY=0;exitDx=0;exitDy=0;entryX=0.5;entryY=1;entryDx=0;entryDy=0;startSize=1;endSize=6;sourcePerimeterSpacing=0;targetPerimeterSpacing=0;" id="rjfQ9kvNoMq7JbhmC_GC-231" parent="1" target="rjfQ9kvNoMq7JbhmC_GC-212" source="rjfQ9kvNoMq7JbhmC_GC-73" edge="1">
          <mxGeometry as="geometry" relative="1">
            <Array as="points">
              <mxPoint y="-350" x="490" />
            </Array>
          </mxGeometry>
        </mxCell>
        <mxCell style="edgeLabel;html=1;align=center;verticalAlign=middle;resizable=0;points=[];" value="获取调度运行状态" id="rjfQ9kvNoMq7JbhmC_GC-233" parent="rjfQ9kvNoMq7JbhmC_GC-231" vertex="1" connectable="0">
          <mxGeometry as="geometry" y="1" x="-0.1287" relative="1">
            <mxPoint as="offset" y="23" x="-127" />
          </mxGeometry>
        </mxCell>
        <mxCell style="edgeStyle=none;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;exitX=1;exitY=0.5;exitDx=0;exitDy=0;entryX=0;entryY=0.5;entryDx=0;entryDy=0;fontSize=15;startSize=1;endSize=6;sourcePerimeterSpacing=0;targetPerimeterSpacing=0;" id="rjfQ9kvNoMq7JbhmC_GC-248" parent="1" target="rjfQ9kvNoMq7JbhmC_GC-77" source="rjfQ9kvNoMq7JbhmC_GC-73" edge="1">
          <mxGeometry as="geometry" relative="1" />
        </mxCell>
        <mxCell style="ellipse;whiteSpace=wrap;html=1;aspect=fixed;" value="&lt;span style=&quot;&quot;&gt;直通车check调度任务状态&lt;/span&gt;" id="rjfQ9kvNoMq7JbhmC_GC-73" parent="1" vertex="1">
          <mxGeometry as="geometry" height="87.5" width="87.5" y="-270.5" x="38" />
        </mxCell>
        <mxCell style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;exitX=1;exitY=0.5;exitDx=0;exitDy=0;fontSize=13;" id="rjfQ9kvNoMq7JbhmC_GC-75" parent="1" target="rjfQ9kvNoMq7JbhmC_GC-80" source="rjfQ9kvNoMq7JbhmC_GC-77" edge="1">
          <mxGeometry as="geometry" relative="1" />
        </mxCell>
        <mxCell style="edgeStyle=none;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;exitX=0.5;exitY=0;exitDx=0;exitDy=0;entryX=0;entryY=0.5;entryDx=0;entryDy=0;fontSize=15;startSize=1;endSize=6;sourcePerimeterSpacing=0;targetPerimeterSpacing=0;" id="rjfQ9kvNoMq7JbhmC_GC-249" parent="1" target="rjfQ9kvNoMq7JbhmC_GC-82" source="rjfQ9kvNoMq7JbhmC_GC-77" edge="1">
          <mxGeometry as="geometry" relative="1" />
        </mxCell>
        <mxCell style="edgeStyle=none;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;exitX=0.5;exitY=1;exitDx=0;exitDy=0;fontSize=15;startSize=1;endSize=6;sourcePerimeterSpacing=0;targetPerimeterSpacing=0;" id="rjfQ9kvNoMq7JbhmC_GC-250" parent="1" target="rjfQ9kvNoMq7JbhmC_GC-78" source="rjfQ9kvNoMq7JbhmC_GC-77" edge="1">
          <mxGeometry as="geometry" relative="1" />
        </mxCell>
        <mxCell style="ellipse;whiteSpace=wrap;html=1;aspect=fixed;fontSize=13;" value="调度运行状态" id="rjfQ9kvNoMq7JbhmC_GC-77" parent="1" vertex="1">
          <mxGeometry as="geometry" height="90" width="90" y="-272.5" x="165.5" />
        </mxCell>
        <mxCell style="text;html=1;strokeColor=#6c8ebf;fillColor=#dae8fc;align=center;verticalAlign=middle;whiteSpace=wrap;rounded=1;" value="运行中" id="rjfQ9kvNoMq7JbhmC_GC-78" parent="1" vertex="1">
          <mxGeometry as="geometry" height="35.75" width="70" y="-200.75" x="292" />
        </mxCell>
        <mxCell style="edgeStyle=none;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;exitX=1;exitY=0.5;exitDx=0;exitDy=0;entryX=0;entryY=0.5;entryDx=0;entryDy=0;fontSize=15;startSize=1;endSize=6;sourcePerimeterSpacing=0;targetPerimeterSpacing=0;" id="rjfQ9kvNoMq7JbhmC_GC-252" parent="1" target="rjfQ9kvNoMq7JbhmC_GC-83" source="rjfQ9kvNoMq7JbhmC_GC-80" edge="1">
          <mxGeometry as="geometry" relative="1" />
        </mxCell>
        <mxCell style="text;html=1;strokeColor=#B20000;fillColor=#e51400;align=center;verticalAlign=middle;whiteSpace=wrap;rounded=1;fontColor=#ffffff;fontSize=13;" value="失败" id="rjfQ9kvNoMq7JbhmC_GC-80" parent="1" vertex="1">
          <mxGeometry as="geometry" height="37.5" width="68.5" y="-246.5" x="293.5" />
        </mxCell>
        <mxCell style="edgeStyle=none;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;exitX=1;exitY=0.5;exitDx=0;exitDy=0;entryX=0;entryY=0.5;entryDx=0;entryDy=0;fontSize=15;startSize=1;endSize=6;sourcePerimeterSpacing=0;targetPerimeterSpacing=0;" id="rjfQ9kvNoMq7JbhmC_GC-251" parent="1" target="rjfQ9kvNoMq7JbhmC_GC-137" source="rjfQ9kvNoMq7JbhmC_GC-82" edge="1">
          <mxGeometry as="geometry" relative="1" />
        </mxCell>
        <mxCell style="text;html=1;strokeColor=#005700;fillColor=#008a00;align=center;verticalAlign=middle;whiteSpace=wrap;rounded=1;fontColor=#ffffff;fontSize=13;" value="成功" id="rjfQ9kvNoMq7JbhmC_GC-82" parent="1" vertex="1">
          <mxGeometry as="geometry" height="37" width="68.5" y="-290" x="294.5" />
        </mxCell>
        <mxCell style="rounded=1;whiteSpace=wrap;html=1;fontSize=13;" value="告警处理" id="rjfQ9kvNoMq7JbhmC_GC-83" parent="1" vertex="1">
          <mxGeometry as="geometry" height="33.5" width="80" y="-243.5" x="409.5" />
        </mxCell>
        <mxCell style="html=1;shadow=0;dashed=0;align=center;verticalAlign=middle;shape=mxgraph.arrows2.arrow;dy=0;dx=30;notch=30;" value="" id="rjfQ9kvNoMq7JbhmC_GC-86" parent="1" vertex="1">
          <mxGeometry as="geometry" height="10" width="10" y="-275" x="67" />
        </mxCell>
        <mxCell style="html=1;shadow=0;dashed=0;align=center;verticalAlign=middle;shape=mxgraph.arrows2.arrow;dy=0;dx=30;notch=30;rotation=-180;" value="" id="rjfQ9kvNoMq7JbhmC_GC-87" parent="1" vertex="1">
          <mxGeometry as="geometry" height="10" width="10" y="-189" x="77" />
        </mxCell>
        <mxCell style="edgeStyle=none;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;exitX=1;exitY=0.5;exitDx=0;exitDy=0;entryX=0.938;entryY=0.983;entryDx=0;entryDy=0;entryPerimeter=0;startSize=1;endSize=6;sourcePerimeterSpacing=0;targetPerimeterSpacing=0;" id="rjfQ9kvNoMq7JbhmC_GC-239" parent="1" target="rjfQ9kvNoMq7JbhmC_GC-195" source="rjfQ9kvNoMq7JbhmC_GC-137" edge="1">
          <mxGeometry as="geometry" relative="1">
            <Array as="points">
              <mxPoint y="-402" x="730" />
            </Array>
          </mxGeometry>
        </mxCell>
        <mxCell style="edgeLabel;html=1;align=center;verticalAlign=middle;resizable=0;points=[];" value="启动CDC" id="rjfQ9kvNoMq7JbhmC_GC-240" parent="rjfQ9kvNoMq7JbhmC_GC-239" vertex="1" connectable="0">
          <mxGeometry as="geometry" y="2" x="-0.12" relative="1">
            <mxPoint as="offset" y="18" x="-17" />
          </mxGeometry>
        </mxCell>
        <mxCell style="rounded=1;whiteSpace=wrap;html=1;fontSize=13;" value="所有调度都成功" id="rjfQ9kvNoMq7JbhmC_GC-137" parent="1" vertex="1">
          <mxGeometry as="geometry" height="37.5" width="76.75" y="-291" x="412.75" />
        </mxCell>
        <mxCell style="text;html=1;strokeColor=none;fillColor=none;align=left;verticalAlign=middle;whiteSpace=wrap;rounded=0;" value="1、对于同步 hive 的先生成一个调度任务,如果需要分配执行的就生成多个调度任务，直通车记录调度 id&lt;br&gt;&lt;br&gt;2、直通车定期去扫未完成的调度状态，当所有的调度都完成时则更新接入状态，并重启 cdc 程序，cdc 发现主动发现新增表&lt;br&gt;&lt;br&gt;3、对于调度失败的任务, 需要人工处理，将调度重试成功" id="rjfQ9kvNoMq7JbhmC_GC-145" parent="1" vertex="1">
          <mxGeometry as="geometry" height="136" width="310" y="-290" x="510" />
        </mxCell>
        <mxCell style="edgeStyle=none;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;exitX=0.25;exitY=0;exitDx=0;exitDy=0;" id="rjfQ9kvNoMq7JbhmC_GC-161" parent="1" target="rjfQ9kvNoMq7JbhmC_GC-25" source="rjfQ9kvNoMq7JbhmC_GC-25" edge="1">
          <mxGeometry as="geometry" relative="1" />
        </mxCell>
        <mxCell style="edgeStyle=none;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;startSize=1;endSize=6;sourcePerimeterSpacing=0;targetPerimeterSpacing=0;entryX=0.925;entryY=0.5;entryDx=0;entryDy=0;entryPerimeter=0;exitX=0;exitY=0.5;exitDx=0;exitDy=0;" value="" id="rjfQ9kvNoMq7JbhmC_GC-179" parent="1" target="rjfQ9kvNoMq7JbhmC_GC-203" source="rjfQ9kvNoMq7JbhmC_GC-176" edge="1">
          <mxGeometry as="geometry" relative="1">
            <mxPoint as="targetPoint" y="-576" x="172" />
          </mxGeometry>
        </mxCell>
        <mxCell style="edgeLabel;html=1;align=center;verticalAlign=middle;resizable=0;points=[];" value="Y" id="rjfQ9kvNoMq7JbhmC_GC-180" parent="rjfQ9kvNoMq7JbhmC_GC-179" vertex="1" connectable="0">
          <mxGeometry as="geometry" x="-0.25" relative="1">
            <mxPoint as="offset" />
          </mxGeometry>
        </mxCell>
        <mxCell style="edgeStyle=none;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;startSize=1;endSize=6;sourcePerimeterSpacing=0;targetPerimeterSpacing=0;entryX=0;entryY=0.5;entryDx=0;entryDy=0;" value="" id="rjfQ9kvNoMq7JbhmC_GC-194" parent="1" target="rjfQ9kvNoMq7JbhmC_GC-195" source="rjfQ9kvNoMq7JbhmC_GC-176" edge="1">
          <mxGeometry as="geometry" relative="1">
            <mxPoint as="targetPoint" y="-575" x="435" />
          </mxGeometry>
        </mxCell>
        <mxCell style="edgeLabel;html=1;align=center;verticalAlign=middle;resizable=0;points=[];" value="&amp;nbsp;N" id="rjfQ9kvNoMq7JbhmC_GC-197" parent="rjfQ9kvNoMq7JbhmC_GC-194" vertex="1" connectable="0">
          <mxGeometry as="geometry" y="1" x="0.5273" relative="1">
            <mxPoint as="offset" y="1" x="-96" />
          </mxGeometry>
        </mxCell>
        <mxCell style="edgeLabel;html=1;align=center;verticalAlign=middle;resizable=0;points=[];" value="启动 CDC" id="rjfQ9kvNoMq7JbhmC_GC-229" parent="rjfQ9kvNoMq7JbhmC_GC-194" vertex="1" connectable="0">
          <mxGeometry as="geometry" y="1" x="0.4292" relative="1">
            <mxPoint as="offset" />
          </mxGeometry>
        </mxCell>
        <mxCell style="rhombus;whiteSpace=wrap;html=1;rounded=1;" value="是否hive&lt;br&gt;存量同步" id="rjfQ9kvNoMq7JbhmC_GC-176" parent="1" vertex="1">
          <mxGeometry as="geometry" height="80" width="80" y="-615" x="300" />
        </mxCell>
        <mxCell style="edgeStyle=none;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;exitX=1;exitY=0.5;exitDx=0;exitDy=0;startSize=1;endSize=6;sourcePerimeterSpacing=0;targetPerimeterSpacing=0;" id="rjfQ9kvNoMq7JbhmC_GC-241" parent="1" target="rjfQ9kvNoMq7JbhmC_GC-238" source="rjfQ9kvNoMq7JbhmC_GC-195" edge="1">
          <mxGeometry as="geometry" relative="1" />
        </mxCell>
        <mxCell style="rounded=1;whiteSpace=wrap;html=1;labelBorderColor=none;" value="实时计算" id="rjfQ9kvNoMq7JbhmC_GC-195" parent="1" vertex="1">
          <mxGeometry as="geometry" height="60" width="120" y="-605" x="616.5" />
        </mxCell>
        <mxCell style="rounded=0;orthogonalLoop=1;jettySize=auto;html=1;startSize=1;endSize=6;sourcePerimeterSpacing=0;targetPerimeterSpacing=0;entryX=0.45;entryY=0.033;entryDx=0;entryDy=0;entryPerimeter=0;exitX=0.5;exitY=1;exitDx=0;exitDy=0;edgeStyle=orthogonalEdgeStyle;" value="" id="rjfQ9kvNoMq7JbhmC_GC-199" parent="1" target="rjfQ9kvNoMq7JbhmC_GC-205" source="rjfQ9kvNoMq7JbhmC_GC-203" edge="1">
          <mxGeometry as="geometry" relative="1">
            <mxPoint as="sourcePoint" y="-318" x="110" />
            <mxPoint as="targetPoint" y="-228" x="128.5" />
          </mxGeometry>
        </mxCell>
        <mxCell style="edgeLabel;html=1;align=center;verticalAlign=middle;resizable=0;points=[];" value="&lt;span style=&quot;background-color: rgb(248, 249, 250);&quot;&gt;已接入 hudi&lt;/span&gt;" id="rjfQ9kvNoMq7JbhmC_GC-200" parent="rjfQ9kvNoMq7JbhmC_GC-199" vertex="1" connectable="0">
          <mxGeometry as="geometry" y="1" x="-0.3333" relative="1">
            <mxPoint as="offset" y="58" x="-3" />
          </mxGeometry>
        </mxCell>
        <mxCell style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;entryX=0;entryY=0.5;entryDx=0;entryDy=0;startSize=1;endSize=6;sourcePerimeterSpacing=0;targetPerimeterSpacing=0;exitX=0.5;exitY=1;exitDx=0;exitDy=0;" id="rjfQ9kvNoMq7JbhmC_GC-201" parent="1" target="rjfQ9kvNoMq7JbhmC_GC-208" source="rjfQ9kvNoMq7JbhmC_GC-203" edge="1">
          <mxGeometry as="geometry" relative="1">
            <mxPoint as="sourcePoint" y="-311" x="158.5" />
            <mxPoint as="targetPoint" y="-266" x="275.5" />
          </mxGeometry>
        </mxCell>
        <mxCell style="edgeLabel;html=1;align=center;verticalAlign=middle;resizable=0;points=[];" value="新表/&lt;br&gt;已接入kafka" id="rjfQ9kvNoMq7JbhmC_GC-202" parent="rjfQ9kvNoMq7JbhmC_GC-201" vertex="1" connectable="0">
          <mxGeometry as="geometry" y="-1" x="-0.2774" relative="1">
            <mxPoint as="offset" y="-4" x="43" />
          </mxGeometry>
        </mxCell>
        <mxCell style="rhombus;whiteSpace=wrap;html=1;rounded=1;" value="表接入状&lt;br&gt;况判断" id="rjfQ9kvNoMq7JbhmC_GC-203" parent="1" vertex="1">
          <mxGeometry as="geometry" height="80" width="80" y="-615" x="52.5" />
        </mxCell>
        <mxCell style="edgeStyle=none;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;exitX=1;exitY=0.5;exitDx=0;exitDy=0;startSize=1;endSize=6;sourcePerimeterSpacing=0;targetPerimeterSpacing=0;entryX=0.5;entryY=1;entryDx=0;entryDy=0;" id="rjfQ9kvNoMq7JbhmC_GC-204" parent="1" target="rjfQ9kvNoMq7JbhmC_GC-208" source="rjfQ9kvNoMq7JbhmC_GC-205" edge="1">
          <mxGeometry as="geometry" relative="1" />
        </mxCell>
        <mxCell style="whiteSpace=wrap;html=1;rounded=1;" value="停止 hudi 写入任务且清理旧数据" id="rjfQ9kvNoMq7JbhmC_GC-205" parent="1" vertex="1">
          <mxGeometry as="geometry" height="60" width="120" y="-397" x="38" />
        </mxCell>
        <mxCell style="edgeStyle=none;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;exitX=0.5;exitY=1;exitDx=0;exitDy=0;entryX=0.629;entryY=0;entryDx=0;entryDy=0;entryPerimeter=0;startSize=1;endSize=6;sourcePerimeterSpacing=0;targetPerimeterSpacing=0;" id="rjfQ9kvNoMq7JbhmC_GC-206" parent="1" target="rjfQ9kvNoMq7JbhmC_GC-210" edge="1">
          <mxGeometry as="geometry" relative="1">
            <mxPoint as="sourcePoint" y="-458" x="289.5" />
            <mxPoint as="targetPoint" y="-416.98" x="287.52" />
          </mxGeometry>
        </mxCell>
        <mxCell style="edgeStyle=none;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;startSize=1;endSize=6;sourcePerimeterSpacing=0;targetPerimeterSpacing=0;" id="rjfQ9kvNoMq7JbhmC_GC-213" parent="1" target="rjfQ9kvNoMq7JbhmC_GC-212" source="rjfQ9kvNoMq7JbhmC_GC-208" edge="1">
          <mxGeometry as="geometry" relative="1" />
        </mxCell>
        <mxCell style="edgeLabel;html=1;align=center;verticalAlign=middle;resizable=0;points=[];" value="生成运行一次的调度任务&lt;br&gt;并调度id记录在直通车" id="rjfQ9kvNoMq7JbhmC_GC-214" parent="rjfQ9kvNoMq7JbhmC_GC-213" vertex="1" connectable="0">
          <mxGeometry as="geometry" y="-2" x="-0.1473" relative="1">
            <mxPoint as="offset" />
          </mxGeometry>
        </mxCell>
        <mxCell style="rounded=1;whiteSpace=wrap;html=1;labelBorderColor=none;" value="生成hive同步调度任务" id="rjfQ9kvNoMq7JbhmC_GC-208" parent="1" vertex="1">
          <mxGeometry as="geometry" height="60" width="120" y="-517" x="190" />
        </mxCell>
        <mxCell style="edgeStyle=none;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;exitX=0;exitY=0;exitDx=30;exitDy=0;exitPerimeter=0;startSize=1;endSize=6;sourcePerimeterSpacing=0;targetPerimeterSpacing=0;" id="rjfQ9kvNoMq7JbhmC_GC-209" parent="1" source="rjfQ9kvNoMq7JbhmC_GC-210" edge="1">
          <mxGeometry as="geometry" relative="1">
            <mxPoint as="targetPoint" y="-458" x="276.5" />
          </mxGeometry>
        </mxCell>
        <mxCell style="shape=cube;whiteSpace=wrap;html=1;boundedLbl=1;backgroundOutline=1;darkOpacity=0.05;darkOpacity2=0.1;size=10;" value="调度脚本生成工具" id="rjfQ9kvNoMq7JbhmC_GC-210" parent="1" vertex="1">
          <mxGeometry as="geometry" height="60" width="70" y="-407" x="246.5" />
        </mxCell>
        <mxCell style="rounded=1;whiteSpace=wrap;html=1;labelBorderColor=none;" value="调度" id="rjfQ9kvNoMq7JbhmC_GC-212" parent="1" vertex="1">
          <mxGeometry as="geometry" height="58" width="96" y="-518" x="614" />
        </mxCell>
        <mxCell style="shape=cylinder3;whiteSpace=wrap;html=1;boundedLbl=1;backgroundOutline=1;size=15;labelBorderColor=none;" value="hdfs&lt;br&gt;xxx/.hoodie" id="rjfQ9kvNoMq7JbhmC_GC-234" parent="1" vertex="1">
          <mxGeometry as="geometry" height="80" width="60" y="-615" x="1090" />
        </mxCell>
        <mxCell style="shape=cylinder3;whiteSpace=wrap;html=1;boundedLbl=1;backgroundOutline=1;size=15;labelBorderColor=none;" value="HMS" id="rjfQ9kvNoMq7JbhmC_GC-235" parent="1" vertex="1">
          <mxGeometry as="geometry" height="80" width="60" y="-710" x="950" />
        </mxCell>
        <mxCell style="edgeStyle=none;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;exitX=1;exitY=0.5;exitDx=0;exitDy=0;entryX=0;entryY=0.5;entryDx=0;entryDy=0;entryPerimeter=0;startSize=1;endSize=6;sourcePerimeterSpacing=0;targetPerimeterSpacing=0;" id="rjfQ9kvNoMq7JbhmC_GC-242" parent="1" target="rjfQ9kvNoMq7JbhmC_GC-234" source="rjfQ9kvNoMq7JbhmC_GC-238" edge="1">
          <mxGeometry as="geometry" relative="1" />
        </mxCell>
        <mxCell style="edgeLabel;html=1;align=center;verticalAlign=middle;resizable=0;points=[];" value="hdfs merge" id="rjfQ9kvNoMq7JbhmC_GC-243" parent="rjfQ9kvNoMq7JbhmC_GC-242" vertex="1" connectable="0">
          <mxGeometry as="geometry" y="-1" x="-0.1252" relative="1">
            <mxPoint as="offset" />
          </mxGeometry>
        </mxCell>
        <mxCell style="edgeStyle=none;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;entryX=1;entryY=0.5;entryDx=0;entryDy=0;startSize=1;endSize=6;targetPerimeterSpacing=0;startArrow=none;" id="rjfQ9kvNoMq7JbhmC_GC-244" parent="1" target="rjfQ9kvNoMq7JbhmC_GC-15" edge="1">
          <mxGeometry as="geometry" relative="1">
            <mxPoint as="sourcePoint" y="-640" x="760" />
          </mxGeometry>
        </mxCell>
        <mxCell style="ellipse;whiteSpace=wrap;html=1;aspect=fixed;labelBorderColor=none;" value="flink cdc" id="rjfQ9kvNoMq7JbhmC_GC-238" parent="1" vertex="1">
          <mxGeometry as="geometry" height="80" width="80" y="-615" x="850" />
        </mxCell>
        <mxCell style="edgeStyle=none;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;exitX=0.25;exitY=0;exitDx=0;exitDy=0;startSize=1;endSize=6;sourcePerimeterSpacing=0;targetPerimeterSpacing=0;" id="rjfQ9kvNoMq7JbhmC_GC-246" parent="1" target="rjfQ9kvNoMq7JbhmC_GC-145" source="rjfQ9kvNoMq7JbhmC_GC-145" edge="1">
          <mxGeometry as="geometry" relative="1" />
        </mxCell>
        <mxCell style="strokeWidth=2;html=1;shape=mxgraph.flowchart.sequential_data;whiteSpace=wrap;rounded=1;labelBorderColor=none;fontSize=15;" value="" id="rjfQ9kvNoMq7JbhmC_GC-254" parent="1" vertex="1">
          <mxGeometry as="geometry" height="50" width="50" y="-655" x="760" />
        </mxCell>
        <mxCell style="edgeStyle=none;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;exitX=0;exitY=0;exitDx=0;exitDy=0;entryX=1;entryY=0.5;entryDx=0;entryDy=0;startSize=1;endSize=6;sourcePerimeterSpacing=0;endArrow=none;" value="" id="rjfQ9kvNoMq7JbhmC_GC-255" parent="1" target="rjfQ9kvNoMq7JbhmC_GC-254" source="rjfQ9kvNoMq7JbhmC_GC-238" edge="1">
          <mxGeometry as="geometry" relative="1">
            <mxPoint as="sourcePoint" y="-603.2842712474621" x="861.7157287525379" />
            <mxPoint as="targetPoint" y="-670" x="700" />
          </mxGeometry>
        </mxCell>
        <mxCell style="edgeLabel;html=1;align=center;verticalAlign=middle;resizable=0;points=[];" value="元数据变更同步" id="rjfQ9kvNoMq7JbhmC_GC-256" parent="rjfQ9kvNoMq7JbhmC_GC-255" vertex="1" connectable="0">
          <mxGeometry as="geometry" x="-0.1125" relative="1">
            <mxPoint as="offset" y="-15" x="-39" />
          </mxGeometry>
        </mxCell>
        <mxCell style="endArrow=none;dashed=1;html=1;rounded=0;fontSize=15;startSize=1;endSize=6;sourcePerimeterSpacing=0;targetPerimeterSpacing=0;" value="" id="rjfQ9kvNoMq7JbhmC_GC-257" parent="1" edge="1">
          <mxGeometry as="geometry" height="50" width="50" relative="1">
            <mxPoint as="sourcePoint" y="-120" x="10" />
            <mxPoint as="targetPoint" y="-120" x="820" />
          </mxGeometry>
        </mxCell>
        <mxCell style="edgeLabel;html=1;align=center;verticalAlign=middle;resizable=0;points=[];fontSize=15;" value="&lt;span style=&quot;background-color: rgb(248, 249, 250);&quot;&gt;RO &amp;amp; RT&lt;/span&gt;" id="rjfQ9kvNoMq7JbhmC_GC-295" parent="rjfQ9kvNoMq7JbhmC_GC-257" vertex="1" connectable="0">
          <mxGeometry as="geometry" x="-0.0247" relative="1">
            <mxPoint as="offset" />
          </mxGeometry>
        </mxCell>
        <mxCell style="swimlane;fontStyle=1;align=center;verticalAlign=top;childLayout=stackLayout;horizontal=1;startSize=26;horizontalStack=0;resizeParent=1;resizeParentMax=0;resizeLast=0;collapsible=1;marginBottom=0;" value="HoodieParquetInputFormatBase" id="rjfQ9kvNoMq7JbhmC_GC-258" parent="1" vertex="1">
          <mxGeometry as="geometry" height="90" width="270" y="220" x="30" />
        </mxCell>
        <mxCell style="endArrow=open;endSize=12;dashed=1;html=1;rounded=0;fontColor=default;entryX=0;entryY=0.25;entryDx=0;entryDy=0;" value="Use" id="rjfQ9kvNoMq7JbhmC_GC-259" parent="rjfQ9kvNoMq7JbhmC_GC-258" target="rjfQ9kvNoMq7JbhmC_GC-281" edge="1">
          <mxGeometry as="geometry" width="160" relative="1">
            <mxPoint as="sourcePoint" y="40" x="270" />
            <mxPoint as="targetPoint" y="40" x="430" />
          </mxGeometry>
        </mxCell>
        <mxCell style="text;strokeColor=none;fillColor=none;align=left;verticalAlign=top;spacingLeft=4;spacingRight=4;overflow=hidden;rotatable=0;points=[[0,0.5],[1,0.5]];portConstraint=eastwest;" value="+ HoodieTableInputFormat inputFormatDelegate &#xa;+getSplits&#xa;+ listStatus" id="rjfQ9kvNoMq7JbhmC_GC-260" parent="rjfQ9kvNoMq7JbhmC_GC-258" vertex="1">
          <mxGeometry as="geometry" height="64" width="270" y="26" />
        </mxCell>
        <mxCell style="swimlane;fontStyle=1;align=center;verticalAlign=top;childLayout=stackLayout;horizontal=1;startSize=26;horizontalStack=0;resizeParent=1;resizeParentMax=0;resizeLast=0;collapsible=1;marginBottom=0;" value="MapredParquetInputFormat" id="rjfQ9kvNoMq7JbhmC_GC-261" parent="1" vertex="1">
          <mxGeometry as="geometry" height="80" width="255.5" y="70" x="30" />
        </mxCell>
        <mxCell style="text;strokeColor=none;fillColor=none;align=left;verticalAlign=top;spacingLeft=4;spacingRight=4;overflow=hidden;rotatable=0;points=[[0,0.5],[1,0.5]];portConstraint=eastwest;" value="+ getSplits&#xa;+ listStatus&#xa;+getRecordReader" id="rjfQ9kvNoMq7JbhmC_GC-262" parent="rjfQ9kvNoMq7JbhmC_GC-261" vertex="1">
          <mxGeometry as="geometry" height="54" width="255.5" y="26" />
        </mxCell>
        <mxCell style="swimlane;fontStyle=1;align=center;verticalAlign=top;childLayout=stackLayout;horizontal=1;startSize=26;horizontalStack=0;resizeParent=1;resizeParentMax=0;resizeLast=0;collapsible=1;marginBottom=0;" value="FileInputFormat" id="rjfQ9kvNoMq7JbhmC_GC-263" parent="1" vertex="1">
          <mxGeometry as="geometry" height="90" width="260" y="-70" x="34.5" />
        </mxCell>
        <mxCell style="text;strokeColor=none;fillColor=none;align=left;verticalAlign=top;spacingLeft=4;spacingRight=4;overflow=hidden;rotatable=0;points=[[0,0.5],[1,0.5]];portConstraint=eastwest;" value="+ getSplits" id="rjfQ9kvNoMq7JbhmC_GC-264" parent="rjfQ9kvNoMq7JbhmC_GC-263" vertex="1">
          <mxGeometry as="geometry" height="26" width="260" y="26" />
        </mxCell>
        <mxCell style="line;strokeWidth=1;fillColor=none;align=left;verticalAlign=middle;spacingTop=-1;spacingLeft=3;spacingRight=3;rotatable=0;labelPosition=right;points=[];portConstraint=eastwest;" value="" id="rjfQ9kvNoMq7JbhmC_GC-265" parent="rjfQ9kvNoMq7JbhmC_GC-263" vertex="1">
          <mxGeometry as="geometry" height="8" width="260" y="52" />
        </mxCell>
        <mxCell style="text;strokeColor=none;fillColor=none;align=left;verticalAlign=top;spacingLeft=4;spacingRight=4;overflow=hidden;rotatable=0;points=[[0,0.5],[1,0.5]];portConstraint=eastwest;" value="+ listStatus" id="rjfQ9kvNoMq7JbhmC_GC-266" parent="rjfQ9kvNoMq7JbhmC_GC-263" vertex="1">
          <mxGeometry as="geometry" height="30" width="260" y="60" />
        </mxCell>
        <mxCell style="swimlane;fontStyle=1;align=center;verticalAlign=top;childLayout=stackLayout;horizontal=1;startSize=26;horizontalStack=0;resizeParent=1;resizeParentMax=0;resizeLast=0;collapsible=1;marginBottom=0;labelBackgroundColor=default;" value="HoodieInputFormat" id="rjfQ9kvNoMq7JbhmC_GC-267" parent="1" vertex="1">
          <mxGeometry as="geometry" height="62" width="130" y="498" x="10" />
        </mxCell>
        <mxCell style="swimlane;fontStyle=1;align=center;verticalAlign=top;childLayout=stackLayout;horizontal=1;startSize=26;horizontalStack=0;resizeParent=1;resizeParentMax=0;resizeLast=0;collapsible=1;marginBottom=0;labelBackgroundColor=#CCFF99;" value="HoodieParquetInputFormat" id="rjfQ9kvNoMq7JbhmC_GC-268" parent="1" vertex="1">
          <mxGeometry as="geometry" height="50" width="260" y="370" x="30" />
        </mxCell>
        <mxCell style="text;strokeColor=none;fillColor=none;align=left;verticalAlign=top;spacingLeft=4;spacingRight=4;overflow=hidden;rotatable=0;points=[[0,0.5],[1,0.5]];portConstraint=eastwest;" value="+getRecordReader" id="rjfQ9kvNoMq7JbhmC_GC-269" parent="rjfQ9kvNoMq7JbhmC_GC-268" vertex="1">
          <mxGeometry as="geometry" height="24" width="260" y="26" />
        </mxCell>
        <mxCell style="swimlane;fontStyle=1;align=center;verticalAlign=top;childLayout=stackLayout;horizontal=1;startSize=26;horizontalStack=0;resizeParent=1;resizeParentMax=0;resizeLast=0;collapsible=1;marginBottom=0;labelBackgroundColor=#CCFF99;" value="HoodieParquetRealtimeInputFormat" id="rjfQ9kvNoMq7JbhmC_GC-270" parent="1" vertex="1">
          <mxGeometry as="geometry" height="58" width="230" y="498" x="168" />
        </mxCell>
        <mxCell style="text;strokeColor=none;fillColor=none;align=left;verticalAlign=top;spacingLeft=4;spacingRight=4;overflow=hidden;rotatable=0;points=[[0,0.5],[1,0.5]];portConstraint=eastwest;" value="getRecordReader" id="rjfQ9kvNoMq7JbhmC_GC-271" parent="rjfQ9kvNoMq7JbhmC_GC-270" vertex="1">
          <mxGeometry as="geometry" height="24" width="230" y="26" />
        </mxCell>
        <mxCell style="line;strokeWidth=1;fillColor=none;align=left;verticalAlign=middle;spacingTop=-1;spacingLeft=3;spacingRight=3;rotatable=0;labelPosition=right;points=[];portConstraint=eastwest;" value="" id="rjfQ9kvNoMq7JbhmC_GC-272" parent="rjfQ9kvNoMq7JbhmC_GC-270" vertex="1">
          <mxGeometry as="geometry" height="8" width="230" y="50" />
        </mxCell>
        <mxCell style="swimlane;fontStyle=1;align=center;verticalAlign=top;childLayout=stackLayout;horizontal=1;startSize=26;horizontalStack=0;resizeParent=1;resizeParentMax=0;resizeLast=0;collapsible=1;marginBottom=0;" value="HoodieRealtimeInputFormat" id="rjfQ9kvNoMq7JbhmC_GC-273" parent="1" vertex="1">
          <mxGeometry as="geometry" height="60" width="170" y="600" x="198" />
        </mxCell>
        <mxCell style="endArrow=block;endSize=16;endFill=0;html=1;rounded=0;exitX=0.5;exitY=0;exitDx=0;exitDy=0;entryX=0.469;entryY=1.154;entryDx=0;entryDy=0;entryPerimeter=0;" value="Extends" id="rjfQ9kvNoMq7JbhmC_GC-274" parent="1" target="rjfQ9kvNoMq7JbhmC_GC-266" source="rjfQ9kvNoMq7JbhmC_GC-261" edge="1">
          <mxGeometry as="geometry" width="160" relative="1">
            <mxPoint as="sourcePoint" y="20" x="170" />
            <mxPoint as="targetPoint" y="20" x="140" />
          </mxGeometry>
        </mxCell>
        <mxCell style="endArrow=block;endSize=16;endFill=0;html=1;rounded=0;exitX=0.5;exitY=0;exitDx=0;exitDy=0;entryX=0.513;entryY=1.037;entryDx=0;entryDy=0;entryPerimeter=0;" value="Extends" id="rjfQ9kvNoMq7JbhmC_GC-275" parent="1" target="rjfQ9kvNoMq7JbhmC_GC-262" source="rjfQ9kvNoMq7JbhmC_GC-258" edge="1">
          <mxGeometry as="geometry" width="160" relative="1">
            <mxPoint as="sourcePoint" y="70" x="495" />
            <mxPoint as="targetPoint" y="13" x="570" />
          </mxGeometry>
        </mxCell>
        <mxCell style="endArrow=block;endSize=16;endFill=0;html=1;rounded=0;exitX=0.5;exitY=0;exitDx=0;exitDy=0;entryX=0.5;entryY=1.016;entryDx=0;entryDy=0;entryPerimeter=0;" value="Extends" id="rjfQ9kvNoMq7JbhmC_GC-276" parent="1" target="rjfQ9kvNoMq7JbhmC_GC-260" source="rjfQ9kvNoMq7JbhmC_GC-268" edge="1">
          <mxGeometry as="geometry" width="160" relative="1">
            <mxPoint as="sourcePoint" y="190" x="345" />
            <mxPoint as="targetPoint" y="161.024" x="480.1199999999999" />
          </mxGeometry>
        </mxCell>
        <mxCell style="endArrow=block;endSize=16;endFill=0;html=1;rounded=0;exitX=0.5;exitY=0;exitDx=0;exitDy=0;entryX=0.492;entryY=1.042;entryDx=0;entryDy=0;entryPerimeter=0;" value="Extends" id="rjfQ9kvNoMq7JbhmC_GC-277" parent="1" target="rjfQ9kvNoMq7JbhmC_GC-269" source="rjfQ9kvNoMq7JbhmC_GC-267" edge="1">
          <mxGeometry as="geometry" width="160" relative="1">
            <mxPoint as="sourcePoint" y="388" x="115" />
            <mxPoint as="targetPoint" y="430" x="200.07999999999993" />
          </mxGeometry>
        </mxCell>
        <mxCell style="endArrow=block;endSize=16;endFill=0;html=1;rounded=0;exitX=0.5;exitY=0;exitDx=0;exitDy=0;entryX=0.512;entryY=1.125;entryDx=0;entryDy=0;entryPerimeter=0;" value="Extends" id="rjfQ9kvNoMq7JbhmC_GC-278" parent="1" target="rjfQ9kvNoMq7JbhmC_GC-269" source="rjfQ9kvNoMq7JbhmC_GC-270" edge="1">
          <mxGeometry as="geometry" width="160" relative="1">
            <mxPoint as="sourcePoint" y="508" x="105" />
            <mxPoint as="targetPoint" y="430.98799999999983" x="226" />
          </mxGeometry>
        </mxCell>
        <mxCell style="endArrow=block;endSize=16;endFill=0;html=1;rounded=0;exitX=0.5;exitY=0;exitDx=0;exitDy=0;" value="Extends" id="rjfQ9kvNoMq7JbhmC_GC-279" parent="1" target="rjfQ9kvNoMq7JbhmC_GC-272" source="rjfQ9kvNoMq7JbhmC_GC-273" edge="1">
          <mxGeometry as="geometry" width="160" relative="1">
            <mxPoint as="sourcePoint" y="518" x="445" />
            <mxPoint as="targetPoint" y="440.98800000000005" x="236" />
          </mxGeometry>
        </mxCell>
        <mxCell style="text;html=1;align=left;verticalAlign=middle;resizable=0;points=[];autosize=1;strokeColor=none;fillColor=none;labelBorderColor=default;" value="&lt;div&gt;test_hudi_table5_rt&lt;/div&gt;&lt;div&gt;&lt;span style=&quot;&quot;&gt;&lt;/span&gt;&amp;nbsp; &amp;nbsp; WITH SERDEPROPERTIES (&#39;hoodie.query.as.ro.table&#39;=&#39;false&#39;)&amp;nbsp;&lt;/div&gt;&lt;div&gt;&lt;span style=&quot;&quot;&gt;&lt;/span&gt;&amp;nbsp; &amp;nbsp; STORED AS INPUTFORMAT&amp;nbsp;&lt;/div&gt;&lt;div&gt;&lt;span style=&quot;&quot;&gt; &lt;/span&gt;&amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp;&#39;org.apache.hudi.hadoop.realtime.HoodieParquetRealtimeInputFormat&lt;/div&gt;&lt;div&gt;&lt;br&gt;&lt;/div&gt;&lt;div&gt;test_hudi_table5_ro&lt;/div&gt;&lt;div&gt;&lt;span style=&quot;&quot;&gt;&lt;/span&gt;&amp;nbsp; &amp;nbsp; WITH SERDEPROPERTIES (&#39;hoodie.query.as.ro.table&#39;=&#39;true&#39;)&amp;nbsp;&lt;/div&gt;&lt;div&gt;&lt;span style=&quot;&quot;&gt;&lt;/span&gt;&amp;nbsp; &amp;nbsp; STORED AS INPUTFORMAT&amp;nbsp;&lt;/div&gt;&lt;div&gt;&lt;span style=&quot;&quot;&gt; &lt;/span&gt;&amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp;&#39;org.apache.hudi.hadoop.HoodieParquetInputFormat&#39;&amp;nbsp;&lt;/div&gt;" id="rjfQ9kvNoMq7JbhmC_GC-280" parent="1" vertex="1">
          <mxGeometry as="geometry" height="140" width="420" y="470" x="419.5" />
        </mxCell>
        <mxCell style="swimlane;fontStyle=1;align=center;verticalAlign=top;childLayout=stackLayout;horizontal=1;startSize=26;horizontalStack=0;resizeParent=1;resizeParentMax=0;resizeLast=0;collapsible=1;marginBottom=0;labelBackgroundColor=default;fontColor=default;" value="abstract HoodieTableInputFormat" id="rjfQ9kvNoMq7JbhmC_GC-281" parent="1" vertex="1">
          <mxGeometry as="geometry" height="86" width="250" y="70" x="419.5" />
        </mxCell>
        <mxCell style="text;strokeColor=none;fillColor=none;align=left;verticalAlign=top;spacingLeft=4;spacingRight=4;overflow=hidden;rotatable=0;points=[[0,0.5],[1,0.5]];portConstraint=eastwest;labelBackgroundColor=default;fontColor=default;" value="+ Configuration conf" id="rjfQ9kvNoMq7JbhmC_GC-282" parent="rjfQ9kvNoMq7JbhmC_GC-281" vertex="1">
          <mxGeometry as="geometry" height="26" width="250" y="26" />
        </mxCell>
        <mxCell style="line;strokeWidth=1;fillColor=none;align=left;verticalAlign=middle;spacingTop=-1;spacingLeft=3;spacingRight=3;rotatable=0;labelPosition=right;points=[];portConstraint=eastwest;labelBackgroundColor=#CCFF99;fontColor=#99FF99;" value="" id="rjfQ9kvNoMq7JbhmC_GC-283" parent="rjfQ9kvNoMq7JbhmC_GC-281" vertex="1">
          <mxGeometry as="geometry" height="8" width="250" y="52" />
        </mxCell>
        <mxCell style="text;strokeColor=none;fillColor=none;align=left;verticalAlign=top;spacingLeft=4;spacingRight=4;overflow=hidden;rotatable=0;points=[[0,0.5],[1,0.5]];portConstraint=eastwest;labelBackgroundColor=default;fontColor=default;" value="+ listStatus(super.listStatus(job))" id="rjfQ9kvNoMq7JbhmC_GC-284" parent="rjfQ9kvNoMq7JbhmC_GC-281" vertex="1">
          <mxGeometry as="geometry" height="26" width="250" y="60" />
        </mxCell>
        <mxCell style="swimlane;fontStyle=1;align=center;verticalAlign=top;childLayout=stackLayout;horizontal=1;startSize=26;horizontalStack=0;resizeParent=1;resizeParentMax=0;resizeLast=0;collapsible=1;marginBottom=0;labelBackgroundColor=default;fontColor=default;" value="HoodieCopyOnWriteTableInputFormat" id="rjfQ9kvNoMq7JbhmC_GC-285" parent="1" vertex="1">
          <mxGeometry as="geometry" height="76" width="243" y="227" x="420" />
        </mxCell>
        <mxCell style="text;strokeColor=none;fillColor=none;align=left;verticalAlign=top;spacingLeft=4;spacingRight=4;overflow=hidden;rotatable=0;points=[[0,0.5],[1,0.5]];portConstraint=eastwest;labelBackgroundColor=default;fontColor=default;" value="+ listStatus&#xa;+listStatusForIncrementalMode&#xa;+listStatusForSnapshotMode" id="rjfQ9kvNoMq7JbhmC_GC-286" parent="rjfQ9kvNoMq7JbhmC_GC-285" vertex="1">
          <mxGeometry as="geometry" height="50" width="243" y="26" />
        </mxCell>
        <mxCell style="swimlane;fontStyle=1;align=center;verticalAlign=top;childLayout=stackLayout;horizontal=1;startSize=26;horizontalStack=0;resizeParent=1;resizeParentMax=0;resizeLast=0;collapsible=1;marginBottom=0;labelBackgroundColor=default;fontColor=default;" value="HoodieMergeOnReadTableInputFormat" id="rjfQ9kvNoMq7JbhmC_GC-287" parent="1" vertex="1">
          <mxGeometry as="geometry" height="70" width="267" y="350" x="402.5" />
        </mxCell>
        <mxCell style="text;strokeColor=none;fillColor=none;align=left;verticalAlign=top;spacingLeft=4;spacingRight=4;overflow=hidden;rotatable=0;points=[[0,0.5],[1,0.5]];portConstraint=eastwest;labelBackgroundColor=default;fontColor=default;" value="+ getSplits&#xa;+listStatusForIncrementalMode" id="rjfQ9kvNoMq7JbhmC_GC-288" parent="rjfQ9kvNoMq7JbhmC_GC-287" vertex="1">
          <mxGeometry as="geometry" height="44" width="267" y="26" />
        </mxCell>
        <mxCell style="endArrow=block;endSize=16;endFill=0;html=1;rounded=0;exitX=0.5;exitY=0;exitDx=0;exitDy=0;entryX=1;entryY=0.5;entryDx=0;entryDy=0;" value="Extends" id="rjfQ9kvNoMq7JbhmC_GC-289" parent="1" target="rjfQ9kvNoMq7JbhmC_GC-266" source="rjfQ9kvNoMq7JbhmC_GC-281" edge="1">
          <mxGeometry as="geometry" width="160" relative="1">
            <mxPoint as="sourcePoint" y="70" x="495" />
            <mxPoint as="targetPoint" y="13" x="570" />
          </mxGeometry>
        </mxCell>
        <mxCell style="endArrow=block;endSize=16;endFill=0;html=1;rounded=0;exitX=0.5;exitY=0;exitDx=0;exitDy=0;entryX=0.472;entryY=0.962;entryDx=0;entryDy=0;entryPerimeter=0;" value="Extends" id="rjfQ9kvNoMq7JbhmC_GC-290" parent="1" target="rjfQ9kvNoMq7JbhmC_GC-284" source="rjfQ9kvNoMq7JbhmC_GC-285" edge="1">
          <mxGeometry as="geometry" width="160" relative="1">
            <mxPoint as="sourcePoint" y="90" x="872" />
            <mxPoint as="targetPoint" y="33" x="607" />
          </mxGeometry>
        </mxCell>
        <mxCell style="endArrow=block;endSize=16;endFill=0;html=1;rounded=0;exitX=0.5;exitY=0;exitDx=0;exitDy=0;entryX=0.481;entryY=1;entryDx=0;entryDy=0;entryPerimeter=0;" value="Extends" id="rjfQ9kvNoMq7JbhmC_GC-291" parent="1" target="rjfQ9kvNoMq7JbhmC_GC-286" source="rjfQ9kvNoMq7JbhmC_GC-287" edge="1">
          <mxGeometry as="geometry" width="160" relative="1">
            <mxPoint as="sourcePoint" y="290" x="866.5" />
            <mxPoint as="targetPoint" y="175.01199999999994" x="865" />
          </mxGeometry>
        </mxCell>
        <mxCell style="endArrow=none;dashed=1;html=1;rounded=0;fontSize=15;startSize=1;endSize=6;sourcePerimeterSpacing=0;targetPerimeterSpacing=0;" value="" id="rjfQ9kvNoMq7JbhmC_GC-293" parent="1" edge="1">
          <mxGeometry as="geometry" height="50" width="50" relative="1">
            <mxPoint as="sourcePoint" y="-120" x="836" />
            <mxPoint as="targetPoint" y="-120" x="1646" />
          </mxGeometry>
        </mxCell>
        <mxCell style="edgeLabel;html=1;align=center;verticalAlign=middle;resizable=0;points=[];fontSize=15;" value="历史数据同步" id="rjfQ9kvNoMq7JbhmC_GC-294" parent="rjfQ9kvNoMq7JbhmC_GC-293" vertex="1" connectable="0">
          <mxGeometry as="geometry" y="1" x="0.0593" relative="1">
            <mxPoint as="offset" />
          </mxGeometry>
        </mxCell>
        <mxCell style="endArrow=none;html=1;rounded=0;fontSize=15;startSize=1;endSize=6;sourcePerimeterSpacing=0;targetPerimeterSpacing=0;" value="" id="rjfQ9kvNoMq7JbhmC_GC-303" parent="1" edge="1">
          <mxGeometry as="geometry" height="50" width="50" relative="1">
            <mxPoint as="sourcePoint" y="13" x="910" />
            <mxPoint as="targetPoint" y="13" x="1500" />
          </mxGeometry>
        </mxCell>
        <mxCell style="line;strokeWidth=2;direction=south;html=1;rounded=1;labelBorderColor=none;fontSize=15;" value="" id="rjfQ9kvNoMq7JbhmC_GC-304" parent="1" vertex="1">
          <mxGeometry as="geometry" height="124" width="10" y="-31" x="1040" />
        </mxCell>
        <mxCell style="line;strokeWidth=2;direction=south;html=1;rounded=1;labelBorderColor=none;fontSize=15;" value="" id="rjfQ9kvNoMq7JbhmC_GC-306" parent="1" vertex="1">
          <mxGeometry as="geometry" height="124" width="10" y="-31" x="1175" />
        </mxCell>
        <mxCell style="line;strokeWidth=2;direction=south;html=1;rounded=1;labelBorderColor=none;fontSize=15;" value="" id="rjfQ9kvNoMq7JbhmC_GC-307" parent="1" vertex="1">
          <mxGeometry as="geometry" height="124" width="10" y="-31" x="1260" />
        </mxCell>
        <mxCell style="text;html=1;strokeColor=none;fillColor=none;align=center;verticalAlign=middle;whiteSpace=wrap;rounded=0;labelBorderColor=none;fontSize=15;" value="binlog" id="rjfQ9kvNoMq7JbhmC_GC-313" parent="1" vertex="1">
          <mxGeometry as="geometry" height="19" width="80" y="-52" x="1320" />
        </mxCell>
        <mxCell style="line;strokeWidth=2;direction=south;html=1;rounded=1;labelBorderColor=none;fontSize=15;" value="" id="rjfQ9kvNoMq7JbhmC_GC-315" parent="1" vertex="1">
          <mxGeometry as="geometry" height="124" width="10" y="-31" x="910" />
        </mxCell>
        <mxCell style="text;html=1;strokeColor=none;fillColor=none;align=center;verticalAlign=middle;whiteSpace=wrap;rounded=0;labelBorderColor=none;fontSize=15;" value="20200101" id="rjfQ9kvNoMq7JbhmC_GC-316" parent="1" vertex="1">
          <mxGeometry as="geometry" height="30" width="60" y="93" x="890" />
        </mxCell>
        <mxCell style="text;html=1;strokeColor=none;fillColor=none;align=center;verticalAlign=middle;whiteSpace=wrap;rounded=0;labelBorderColor=none;fontSize=15;" value="20200401" id="rjfQ9kvNoMq7JbhmC_GC-317" parent="1" vertex="1">
          <mxGeometry as="geometry" height="30" width="60" y="93" x="1010" />
        </mxCell>
        <mxCell style="text;html=1;strokeColor=none;fillColor=none;align=center;verticalAlign=middle;whiteSpace=wrap;rounded=0;labelBorderColor=none;fontSize=15;" value="20200601" id="rjfQ9kvNoMq7JbhmC_GC-318" parent="1" vertex="1">
          <mxGeometry as="geometry" height="30" width="60" y="93" x="1150" />
        </mxCell>
        <mxCell style="text;html=1;strokeColor=none;fillColor=none;align=center;verticalAlign=middle;whiteSpace=wrap;rounded=0;labelBorderColor=none;fontSize=15;" value="20200602" id="rjfQ9kvNoMq7JbhmC_GC-319" parent="1" vertex="1">
          <mxGeometry as="geometry" height="30" width="60" y="93" x="1235" />
        </mxCell>
        <mxCell style="shape=crossbar;whiteSpace=wrap;html=1;rounded=1;labelBorderColor=none;fontSize=15;strokeWidth=1;" value="&lt;span style=&quot;background-color: rgb(153, 255, 153);&quot;&gt;HIVE&lt;/span&gt;" id="rjfQ9kvNoMq7JbhmC_GC-321" parent="1" vertex="1">
          <mxGeometry as="geometry" height="18" width="265" y="-45" x="915" />
        </mxCell>
        <mxCell style="shape=crossbar;whiteSpace=wrap;html=1;rounded=1;labelBorderColor=none;fontSize=15;" value="&lt;span style=&quot;background-color: rgb(153, 255, 153);&quot;&gt;MYSQL&lt;/span&gt;" id="rjfQ9kvNoMq7JbhmC_GC-324" parent="1" vertex="1">
          <mxGeometry as="geometry" height="23" width="221" y="-70" x="1045" />
        </mxCell>
        <mxCell style="endArrow=classic;html=1;rounded=0;fontSize=15;startSize=1;endSize=6;sourcePerimeterSpacing=0;targetPerimeterSpacing=0;" value="" id="rjfQ9kvNoMq7JbhmC_GC-327" parent="1" edge="1">
          <mxGeometry as="geometry" height="50" width="50" relative="1">
            <mxPoint as="sourcePoint" y="13" x="1400" />
            <mxPoint as="targetPoint" y="13" x="1510" />
          </mxGeometry>
        </mxCell>
        <mxCell style="text;strokeColor=none;fillColor=none;html=1;fontSize=24;fontStyle=1;verticalAlign=middle;align=left;rounded=1;labelBackgroundColor=#FFFFFF;labelBorderColor=none;" value="&lt;span style=&quot;&quot;&gt;假定 mysql&amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; [20200401,&amp;nbsp; 20200403] 数据分区不变更&lt;br&gt;hive 存量同步到 [20200101, 20200403] 的数据&lt;br&gt;myql 同步&amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp;[20200401,&amp;nbsp;&lt;/span&gt;+∞)&amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; 的数据&lt;span style=&quot;&quot;&gt;&lt;br&gt;&lt;/span&gt;" id="rjfQ9kvNoMq7JbhmC_GC-329" parent="1" vertex="1">
          <mxGeometry as="geometry" height="110" width="640" y="156" x="890" />
        </mxCell>
        <mxCell style="endArrow=none;dashed=1;html=1;rounded=0;fontSize=15;startSize=1;endSize=6;sourcePerimeterSpacing=0;targetPerimeterSpacing=0;" value="" id="rjfQ9kvNoMq7JbhmC_GC-330" parent="1" edge="1">
          <mxGeometry as="geometry" height="50" width="50" relative="1">
            <mxPoint as="sourcePoint" y="350" x="836" />
            <mxPoint as="targetPoint" y="350" x="1646" />
          </mxGeometry>
        </mxCell>
        <mxCell style="edgeLabel;html=1;align=center;verticalAlign=middle;resizable=0;points=[];fontSize=15;" value="版本的清理" id="rjfQ9kvNoMq7JbhmC_GC-331" parent="rjfQ9kvNoMq7JbhmC_GC-330" vertex="1" connectable="0">
          <mxGeometry as="geometry" y="1" x="0.0593" relative="1">
            <mxPoint as="offset" />
          </mxGeometry>
        </mxCell>
        <mxCell style="text;strokeColor=none;fillColor=none;html=1;fontSize=24;fontStyle=1;verticalAlign=middle;align=left;rounded=1;labelBackgroundColor=#FFFFFF;labelBorderColor=none;" value="&lt;div&gt;背景： 为了做 ods 层的增量视图&lt;/div&gt;&lt;div&gt;1、所谓一天一个 版本 应该是 一天一个 savepoint&lt;br&gt;2、能否根据 savepoint 做增量&lt;br&gt;3、原生 start/end commit 区间查询逻辑梳理&lt;/div&gt;&lt;div&gt;4、对于没有变更的数据&amp;nbsp;_hoodie_commit_time 是否会变化&lt;/div&gt;" id="rjfQ9kvNoMq7JbhmC_GC-333" parent="1" vertex="1">
          <mxGeometry as="geometry" height="130" width="590" y="390" x="880" />
        </mxCell>
        <mxCell style="text;html=1;strokeColor=none;fillColor=none;align=center;verticalAlign=middle;whiteSpace=wrap;rounded=0;" value="Spark&amp;nbsp; mr 查询适配 无 RO/RT 场景" id="Xd3tCwa5FzFZhnE2AB4F-1" parent="1" vertex="1">
          <mxGeometry as="geometry" height="42" width="210" y="-89" x="388" />
        </mxCell>
      </root>
    </mxGraphModel>
  </diagram>
</mxfile>
